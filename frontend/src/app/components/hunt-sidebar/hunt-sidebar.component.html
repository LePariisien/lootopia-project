<div class="space-y-6">
  <div class="border-green-200 shadow-lg rounded-lg bg-white sticky top-32">
    <div class="p-6 pb-0">
      <h3 class="text-green-900 font-bold text-lg">Outils</h3>
    </div>
    <div class="p-6 py-4">
      <ul class="flex mb-4 bg-green-100 rounded overflow-hidden">
        <li class="flex-1">
          <button class="w-full py-2" [class.bg-green-600]="tab==='carte'" [class.text-white]="tab==='carte'" (click)="tab='carte'">Carte</button>
        </li>
        <li class="flex-1">
          <button class="w-full py-2" [class.bg-green-600]="tab==='notes'" [class.text-white]="tab==='notes'" (click)="tab='notes'">Notes</button>
        </li>
      </ul>
      <div *ngIf="tab==='carte'">
        <div class="relative aspect-3/5 bg-green-100 rounded-lg relative overflow-hidden">
          <div class="absolute top-3 right-3 z-50">
            <button class="bg-white text-green-800 shadow-md size-8 p-0 rounded-full flex items-center justify-center"
              (click)="fitSidebarMapToPosition()" title="Centrer la carte sur votre position" aria-label="Centrer la carte sur votre position" aria-describedby="center-map-button-description"
            >
              <lucide-icon [img]="MapPin" class="size-4"></lucide-icon>
            </button>
          </div>
          <div
            leaflet
            [leafletOptions]="sidebarMapOptions"
            (leafletMapReady)="onSidebarMapReady($event)"
            (leafletClick)="onSidebarMapClick($event)"
            style="height:100%; width:100%; position:absolute; inset:0; z-index: 10;"
          ></div>
        </div>
      </div>
      <div *ngIf="tab==='notes'">
        <textarea class="w-full aspect-4/6 p-3 border border-green-200 rounded-lg focus:border-green-400 focus:ring-green-400 text-green-800" placeholder="Prenez des notes ici..."></textarea>
        <button class="w-full bg-green-600 hover:bg-green-700 text-white rounded px-3 py-2 mt-2">Sauvegarder</button>
      </div>
    </div>

    <div class="mx-6 border-t border-green-200"></div>
      <app-hunt-team-info
        [player]="player"
      ></app-hunt-team-info>
    </div>
</div>
