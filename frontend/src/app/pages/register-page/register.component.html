<div class="flex flex-col-reverse lg:flex-row h-screen font-sans bg-[#002820]">

  <div class="flex-1 flex items-center justify-center px-4 py-8 sm:px-6 lg:px-10 text-black">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()"
      class="bg-white p-6 sm:p-8 rounded-xl shadow-lg w-full max-w-sm sm:max-w-md space-y-4">

      <h2 class="text-3xl sm:text-4xl font-bold text-center text-green-800 mb-6">Inscrivez-vous</h2>

      <div *ngIf="message" class="text-green-600 text-sm text-center">{{ message }}</div>
      <div *ngIf="error" class="text-red-600 text-sm text-center">{{ error }}</div>

      <input formControlName="username" placeholder="Nom d'utilisateur"
        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-green-700 transition" />
      <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
        class="text-red-600 text-xs mt-1">
        <span *ngIf="registerForm.get('username')?.errors?.['required']">Le nom d'utilisateur est requis.</span>
      </div>


      <input formControlName="email" type="email" placeholder="Adresse e-mail"
        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-green-700 transition" />
      <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
        class="text-red-600 text-xs mt-1">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">L'adresse e-mail est requise.</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Format d'e-mail invalide.</span>
      </div>

      <input formControlName="password" type="password" placeholder="Mot de passe"
        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-green-700 transition" />
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
        class="text-red-600 text-xs mt-1">
        <span *ngIf="registerForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Le mot de passe doit contenir au moins 6
          caractères.</span>
      </div>

      <input formControlName="confirmPassword" type="password" placeholder="Confirmer le mot de passe"
        class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-green-700 transition" />
      <div *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
        class="text-red-600 text-xs mt-1">
        <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">La confirmation du mot de passe est
          requise.</span>
      </div>

      <div *ngIf="registerForm.errors?.['passwordsMismatch'] && registerForm.get('confirmPassword')?.touched"
        class="text-red-600 text-xs">
        Les mots de passe ne correspondent pas.
      </div>

      <button type="submit"
        class="w-full bg-green-700 text-white py-3 rounded font-bold hover:bg-green-800 transition hover:scale-105"
        [disabled]="registerForm.invalid"> Je m’inscris
      </button>

      <p class="mt-4 text-center text-sm text-gray-600 lg:hidden">
        Déjà un compte ?
        <a routerLink="/login"
          class="underline text-green-700 hover:text-green-900 transition font-semibold">
          Connectez-vous ici
        </a>
      </p>
    </form>
  </div>

  <div
    class="w-full lg:w-[40%] xl:w-[35%] xl:mr-32 bg-[#e9f1e8] text-green-800 text-center flex flex-col items-center justify-center py-8 px-6 shadow-inner">
    <img src="assets/logo-lootopia.png" alt="Lootopia"
      class="w-32 sm:w-48 md:w-56 mb-4 mt-0 sm:mt-12 lg:mt-0 transition duration-500 hover:scale-105" />
    <h1 class="text-5xl sm:text-6xl md:text-7xl font-bold mt-4">Lootopia</h1>
    <h2 class="text-2xl sm:text-3xl font-bold mt-2">Bienvenue Aventurier !</h2>
    <p class="mt-4 text-sm sm:text-base px-4">
      Rejoignez notre communauté de chasseurs de trésors et commencez votre aventure dès aujourd'hui !
    </p>
    <p class="mt-16 text-center text-sm text-gray-600 hidden lg:block">
      Déjà un compte ?
      <a routerLink="/login" class="underline text-green-700 hover:text-green-900 transition">
        Connectez-vous ici
      </a>
    </p>
    <p class="mt-4 text-sm transition-opacity duration-700 delay-300">
      <a routerLink="/" class="underline hover:text-green-300 transition font-semibold">
        Mode invité
      </a>
    </p>
  </div>

</div>
